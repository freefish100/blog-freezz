<style>#searchTerm{margin-bottom:20px}</style><form class=search><div id=resultsContainer>文章搜索...</div><input type=text id=searchTerm name=searchTerm autocomplete=off oninput=initiateSearch() placeholder=欢迎搜索></form><script>function search(e,t){let n=[];for(let s=0;s<e.length;s++)for(let o in e[s])if(e[s].hasOwnProperty(o)&&e[s][o].toString().indexOf(t)>-1){n.push(e[s]);break}return n}function displayResults(e){let t=document.getElementById("resultsContainer");if(t.innerHTML="",e.length>0)for(let n=0;n<e.length;n++){let o=document.createElement("div"),s=document.createElement("a");s.innerText=e[n].title,s.setAttribute("href",e[n].permalink),o.appendChild(s),t.appendChild(o)}else{let e=document.createElement("p");e.innerText="没有找到搜索结果。",t.appendChild(e)}}function initiateSearch(){let t=document.getElementById("searchTerm").value.trim(),n=document.getElementById("resultsContainer");if(t===""){n.innerHTML="文章搜索";return}let e=new XMLHttpRequest;e.open("GET","/index.json",!0),e.onreadystatechange=()=>{if(e.readyState===4&&e.status===200){let n=JSON.parse(e.responseText),s=search(n,t);displayResults(s)}},e.send()}</script>